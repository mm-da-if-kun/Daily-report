## 　2023年2月21日(火)
# 【取り組んだ課題一覧】
## ☆プログラミングに触れてみる
・progateでプログラミングに触れてみよう  
→progateでの学習【学習レッスン Ruby on Rails5 V ~ 3 章：バリデーションを仕上げよう(新規投稿、削除機能のサクセスメッセージ) ~】まで
# 【わかったこと】
## ☆【学習レッスン Ruby on Rails5 IV】
・destroyアクションのルーティングは以下のように、getではなくpostにする。destroyアクションでも、URLのidから削除したい投稿を特定できるように、「posts/:id/destroy」とURLの中にidを含むことに注意すること。  
例）post "posts/:id/destroy" => "posts#destroy"  
・get-データベースを変更しないアクション  
・post-データベースを変更するアクション  
・下記のようにlink_toの第三引数に「{method: "post"}」を追加することで、「post」として定義されているルーティングにマッチするようになる。  
例）<%= link_to("削除", "/posts/#{@post.id}/destroy", {method:"post"}) %>
## ☆【学習レッスン Ruby on Rails5 V】
・バリデーション-不正なデータがデータベースに保存されないように、データをチェックする仕組みのこと。バリデーションに引っかかった場合（不正なデータの場合）にはデータベースに保存されない。  
・バリデーションは下記のように、モデルで設定する。「validates」を用いてカラム名と内容を指定する。下記のように「{presence: true}」を用いることで、「そのカラムの値が存在するかどうか」をチェックすることができる。  
例）class Post < applicationRecord  
      validates :content, {presence: true}  
    end  
・バリデーションでは、値が存在しているかだけでなく、文字数もチェックすることができる。下記のように「length」を用い、{maximum: 数値}を指定することで、最大文字数を設定することができる。  
例）validates :content, {length: {maximum: 140}}  
・バリデーションで検証する内容は、ハッシュとなっており、下記のようにコンマ( , )で区切ることで、複数指定することができる。  
例）validates :content, {presence: true, length: {maximum: 140}}  
・投稿をデータベースに保存するために使ってきた「saveメソッド」は、保存に成功した場合は「true」を、バリデーションに引っかかって保存に失敗した場合は「false」を戻り値として返すようになっている。  
・renderメソッド-renderメソッドを用いることで、別のアクションを経由せずに、直接ビューを表示することができる。render("フォルダ名/ファイル名")のように表示したいビューを指定する。renderメソッドを使うと、redirect_toメソッドを使った場合と違い、そのアクション内で定義した@変数をビューでそのまま使うことができる。  
例）render("posts/edit")  
・saveメソッドを呼び出した際にバリデーションに失敗すると、Railsでは自動的にエラーメッセージが生成されるようになっている。@post.errors.full_messagesの中に、エラー内容が配列で入る。  ・フラッシュ-ページ上に1度だけ表示されるメッセージのこと。フラッシュが表示された後、ページを更新したり、別のページに移動したりすると、フラッシュは表示されなくなる。  
・変数flash-Railsでフラッシュを表示するために用いる。アクションで変数flash[:notice]に文字列を代入すると、flash[:notice]をビューで使うことができる。変数flashは１度表示された後に自動で削除されるようになっている。  
例）(アクション側)  flash[:notice] = "表示したい文字列"  
    (ビュー側)     <%= flssh[:notice] %>
# 【次やること】
・progateでの学習【道場レッスン Ruby on Rails5 II ~ 1 章：目標物を確認しよう(目標物を確認しよう) ~】
# 【感じたこと】
・昨日の日報で「get」と「post」の使用用途が曖昧で整理できていないと記載しましたが、本日の学習内容でちょうど出てきたのでこのタイミングで整理しておきたいと思います。
# 【学習時間】
・本日:1時間35分  
・累計:45時間47分
